{"version":3,"sources":["../node_modules/redux-form/es/Form.js","components/Dialogs/Dialogs.module.css","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","_ReduxFormContext__WEBPACK_IMPORTED_MODULE_4__","Form","_Component","props","_this","call","this","_reduxForm","Error","_proto","prototype","componentDidMount","registerInnerOnSubmit","onSubmit","componentDidUpdate","prevProps","render","_this$props","rest","a","createElement","propTypes","func","isRequired","object","__webpack_exports__","Object","module","exports","header","dialogs","dialogItems","active","messages","message","DialogItem","path","id","react_default","className","s","dialog","NavLink","to","name","Message","maxLenghtCreator50","maxLenghtCreator","AddMessageFormRedux","reduxForm","form","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","state","dialogsPage","messagesElements","map","m","Dialogs_Message","dialogsElements","d","Dialogs_DialogItem","newMessageBody","isAuth","values","sendMessage","Redirect","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","_React$Component","inherits","_super","createSuper","classCallCheck","apply","arguments","createClass","key","value","React"],"mappings":"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","file":"static/js/4.6edf1e67.chunk.js","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withReduxForm } from './ReduxFormContext';\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    if (!props._reduxForm) {\n      throw new Error('Form must be inside a component decorated with reduxForm()');\n    }\n\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.onSubmit !== prevProps.onSubmit) {\n      this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _reduxForm = _this$props._reduxForm,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"_reduxForm\"]);\n\n    return /*#__PURE__*/React.createElement(\"form\", rest);\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  _reduxForm: PropTypes.object\n};\nexport default withReduxForm(Form);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Dialogs_header__20o0R\",\"dialogs\":\"Dialogs_dialogs__fTDd4\",\"dialogItems\":\"Dialogs_dialogItems__1Sv9h\",\"active\":\"Dialogs_active__3HUZW\",\"messages\":\"Dialogs_messages__EGbXD\",\"message\":\"Dialogs_message__3-45q\"};","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {Field, Form, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLenghtCreator, required} from \"../../Utils/Validators/validators\";\r\n\r\n\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let messagesElements = state.messages.map( m => <Message message={m.message}/> )\r\n    let dialogsElements = state.dialogs.map( d => <DialogItem name={d.name} id={d.id}/>);\r\n    let newMessageBody = state.newMessageBody;\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    if (!props.isAuth) return <Redirect to={'login'} />;\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogItems}>\r\n                { dialogsElements }\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n  </div>\r\n    )\r\n}\r\n\r\nconst maxLenghtCreator50= maxLenghtCreator(50)\r\n\r\nconst addMessageForm = (props) => {\r\n    return( <Form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field component={Textarea}\r\n                   validate={[required, maxLenghtCreator50]}\r\n                       name='newMessageBody' placeholder='Enter your message'/>\r\n        </div>\r\n        <div><button>Send</button></div>\r\n    </Form>)\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(addMessageForm)\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props}/>\r\n        }\r\n\r\n    }\r\n\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import React from 'react';\r\nimport {sendMessageCreator} from \"../../Redax/dialogs-reduser\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps),withAuthRedirect)(Dialogs)\r\n"],"sourceRoot":""}