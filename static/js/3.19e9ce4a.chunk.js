(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{135:function(t,e,n){"use strict";var a=n(10),r=n.n(a),s=n(18),o=n.n(s),u=n(0),i=n.n(u),c=n(1),l=n.n(c),p=n(27),m=function(t){function e(e){var n;if(n=t.call(this,e)||this,!e._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return n}o()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},n.componentDidUpdate=function(t){this.props.onSubmit!==t.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},n.render=function(){var t=this.props,e=(t._reduxForm,r()(t,["_reduxForm"]));return i.a.createElement("form",e)},e}(u.Component);m.propTypes={onSubmit:l.a.func.isRequired,_reduxForm:l.a.object},e.a=Object(p.b)(m)},300:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3B5fC"}},301:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__2l7Ca",posts:"MyPosts_posts__1X2eX"}},302:function(t,e,n){t.exports={item:"Post_item__3ZPB6"}},303:function(t,e,n){"use strict";n.r(e);var a=n(32),r=n(33),s=n(35),o=n(34),u=n(0),i=n.n(u),c=n(300),l=n.n(c),p=n(36),m=(i.a.Component,n(122)),d=function(t){var e=Object(u.useState)(!1),n=Object(m.a)(e,2),a=n[0],r=n[1],s=Object(u.useState)(t.status),o=Object(m.a)(s,2),c=o[0],l=o[1];Object(u.useEffect)(function(){l(t.status)},[t.status]);return i.a.createElement("div",null,!a&&i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:function(){r(!0)}},t.status||"-----"," ")),a&&i.a.createElement("div",null,i.a.createElement("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(c)},value:c})))},f=function(t){var e=t.profile,n=t.status,a=t.updateStatus;return e?i.a.createElement("div",null,i.a.createElement("div",{className:l.a.descriptionBlock},i.a.createElement("img",{src:e.photos.large}),i.a.createElement(d,{status:n,updateStatus:a}))):i.a.createElement(p.a,null)},b=n(90),h=n(301),E=n.n(h),v=n(302),S=n.n(v),g=function(t){return i.a.createElement("div",{className:S.a.item},t.message,i.a.createElement("div",null,i.a.createElement("span",null,t.likes,"Like")))},O=n(135),P=n(86),j=n(121),_=n(83),k=n(28),x=i.a.memo(function(t){var e=t.posts.map(function(t){return i.a.createElement(g,{message:t.message,likesCount:t.likesCount})});i.a.createRef();return i.a.createElement("div",{className:E.a.postsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement(y,{onSubmit:function(e){t.addPost(e.newPostText)}}),i.a.createElement("div",{className:E.a.posts},e))}),w=Object(_.a)(10),y=Object(j.a)({form:"profileAddMyPost"})(function(t){return i.a.createElement(O.a,{onSubmit:t.handleSubmit},i.a.createElement("div",null,i.a.createElement(P.a,{name:"newPostText",component:k.b,placeholder:"Post message",validate:[_.b,w]})),i.a.createElement("div",null,i.a.createElement("button",null,"Add post")))}),B=x,C=n(13),F=Object(C.b)(function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}},function(t){return{addPost:function(e){t(Object(b.a)(e))}}})(B),I=function(t){return i.a.createElement("div",null,i.a.createElement(f,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),i.a.createElement(F,null))},M=n(298),T=n(7),U=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return i.a.createElement(I,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(i.a.Component);e.default=Object(T.d)(Object(C.b)(function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}},{getUserProfile:b.d,getStatus:b.c,updateStatus:b.e}),M.a)(U)}}]);
//# sourceMappingURL=3.19e9ce4a.chunk.js.map